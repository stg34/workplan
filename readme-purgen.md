# Утилита purgen

Утилита для очистки кода от комментариев.

Удаляет комментарии и создает patch-файл, который содержит удалённые комментарии.

## Запуск

В директории с рабочим проектом, в которой исходники с комментариями:

```
> python3 /path/to/wp/purgen.py -b [имя базовой ветви git]
```

### Параметры командной строки

```
-h
--help
```
Выводит на экран подсказку по параметрам командной строки.


```
-b branch-name
--base-branch branch-name
```

Комментарии ищутся не во всех файлах проекта, а в тех, что изменены, по сравнению с базовой веткой (чаще всего master или main). Этот параметр определяет имя базовой ветки git.

По умолчанию __master__

```
-o out-patch.patch
--output out-patch.patch
```

Имя файла для патч-файла.

По умолчанию: __plan.patch__

```
--dry-run
```

Создает патч-файл без удаления комментариев из кода.

### Конфигурационный файл

Что бы каждый раз не указывать опции командной строки, в директорию с проектом можно положить файл __.purgen.conf__, в котором указать те же опции:

```
[MAIN]
base_branch = main
```

Образец файла можно найти [тут](.plan.conf).
